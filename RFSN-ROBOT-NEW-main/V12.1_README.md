# V12.1 Production Ship Gate Upgrade

This directory contains the **V12.1 Production Ship Gate** upgrade for RFSN-ROBOT.

## What's New

V12.1 implements the **non-optional production safety checklist** and makes the system truly shippable.

### Key Features

1. **Ship Gate Module** (`rfsn/ship_gate.py`)
   - Runtime validation of all safety requirements
   - Deterministic seeding for reproducibility
   - Audit-ready reproducibility bundles

2. **Automated Checklist Enforcement** (`tests/test_ship_gate.py`)
   - CI test that fails if checklist incomplete
   - Prevents shipping unsafe configurations

3. **Pipeline Integration**
   - Ship gate runs automatically in `create_pipeline()`
   - Zero-config for most users

## Quick Start

### Running the Ship Gate Test

\`\`\`bash
pytest tests/test_ship_gate.py -v
\`\`\`

### Using the Ship Gate

V12 users (automatic):
\`\`\`python
from rfsn import create_pipeline, PipelineConfig

config = PipelineConfig(seed=42)
pipeline = create_pipeline(model, config)  # Ship gate runs here
\`\`\`

V11 users (explicit):
\`\`\`python
from rfsn import RFSNHarness
from rfsn.ship_gate import assert_ship_ready, ShipGateConfig

harness = RFSNHarness(model, data)
bundle = assert_ship_ready(model, harness, ShipGateConfig(seed=42))
\`\`\`

## Checklist Status

- [x] Deterministic seed set
- [x] Self-collision enabled
- [x] Safety envelope enforced
- [x] Learner firewalled
- [x] Fault state reachable
- [x] Logs reproducible
- [ ] Orientation IK active (manual verification needed)
- [ ] No timer-based transitions (manual verification needed)

## Documentation

- `docs/V12.1_UPGRADE_SUMMARY.md` - Complete upgrade documentation
- `CHANGELOG.md` - Version history
- `RELEASE_CHECKLIST.md` - Production safety checklist

## Files Changed

- **New**: `rfsn/ship_gate.py`, `tests/test_ship_gate.py`, `docs/V12.1_UPGRADE_SUMMARY.md`
- **Modified**: `rfsn/pipeline.py`, `rfsn/harness.py`, `rfsn/harness_v2.py`, `rfsn/__init__.py`, `RELEASE_CHECKLIST.md`, `CHANGELOG.md`

## Version

**12.1.0** - Production Ship Gate Release
